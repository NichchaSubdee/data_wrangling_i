---
title: "Data_manipulation"
output: github_document
---

```{r setup}
library(tidyverse)
```

## Load in the FAS litters data

```{r}
litters_df = read.csv("C:/Users/prize/Dropbox/Prize/CUIMC_MPH2YR/Fall 2025/Data Science I/Week 3/data_wrangling_i/data/FAS_litters.csv")

litters_df = janitor::clean_names(litters_df)

litters_df
```

## `Select`
Operate on columns: move, rename, remove etc.
Choose some columns and not others

```{r}
select(litters_df, group, litter_number)
```

```{r}
select(litters_df, group, gd0_weight: gd_of_birth)
```

```{r}
select(litters_df, -litter_number)
```


Renaming columns...
```{r}
select(litters_df, GROUP = group, LITTer_NUmBer = litter_number)
```

```{r}
rename(litters_df, GROUP = group, LITTer_NUmBer = litter_number)
```

Select helpers
```{r}
select(litters_df, starts_with("gd"))
```
Select columns that start with gd

```{r}
select(litters_df, litter_number, everything())
```

```{r}
relocate(litters_df, litter_number)
```
relocate litter_number column to the first column

## `filter`
Operate on rows
Need true or false condition

```{r}
filter(litters_df, gd0_weight < 22)
```

```{r}
filter(litters_df, gd0_weight >= 22)
```

```{r}
filter(litters_df, gd_of_birth == 20)
```
= is used for giving a value to something like x = 20.
BUT
== is used for comparison. To check whether two values are equal. As an example above, it means this will return TRUE if x is 20, FALSE otherwise. Or "Keep only the rows where the columns gd_of_birth is equal to 20"

```{r}
filter(litters_df, !(gd_of_birth == 20))
```
Put ! meaning Not equal to 20

```{r}
filter(litters_df, gd0_weight >= 22, gd_of_birth == 20)
```

```{r}
filter(litters_df, group == "Con7")
```

```{r}
filter(litters_df, group %in% c("Con7", "MOD8"))
```
rows either have con7 or mod8

## `Mutate`
modify existing variable or creating new variable

```{r}
litters_df <- litters_df %>%
  mutate(
    gd18_weight = as.numeric(gd18_weight),
    gd0_weight  = as.numeric(gd0_weight),
    wt_gain = gd18_weight - gd0_weight
  )
##fix to numeric

mutate(litters_df, wt_gain = gd18_weight - gd0_weight,
group = str_to_lower(group)
       )
```
Create a new variable and modify variable at the same mutate command

## `arrange`
putting things in order
don't use often

```{r}
arrange(litters_df, pups_born_alive)
```







